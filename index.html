<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ShapeCoin - Acesso</title>
    <style>
        body { background-color: #0a0a0a; color: white; font-family: sans-serif; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; }
        .box { background: #1e1e1e; padding: 30px; border-radius: 12px; border: 1px solid #333; text-align: center; width: 90%; max-width: 400px; }
        input { width: 100%; padding: 15px; margin: 10px 0; background: #333; border: 1px solid #555; color: white; border-radius: 5px; box-sizing: border-box;}
        button { width: 100%; padding: 15px; background: #00ff88; color: black; font-weight: bold; border: none; border-radius: 5px; cursor: pointer; font-size: 16px; margin-top: 10px; }
        button:active { transform: scale(0.98); }
        #status { margin-top: 15px; color: #ffd700; min-height: 20px; font-size: 14px; }
    </style>
    
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
</head>
<body>

    <div class="box">
        <h1 style="color: #00ff88; margin: 0 0 10px 0;">ðŸ’ª ShapeCoin</h1>
        <p>Login Simplificado</p>

        <input type="email" id="email" placeholder="E-mail" required>
        <input type="password" id="password" placeholder="Senha" required>
        <button onclick="fazerLogin()" id="btn">ENTRAR</button>
        
        <div id="status"></div>
    </div>

    <script>
        // 1. Dedo-duro de erros (Se der erro, ele GRITA na tela)
        window.onerror = function(msg, url, line) {
            alert("ERRO NO CÃ“DIGO:\n" + msg);
            document.getElementById('status').innerText = "Erro CrÃ­tico: " + msg;
            return false;
        };

        // 2. ConfiguraÃ§Ã£o (Suas chaves)
        const firebaseConfig = {
            apiKey: "AIzaSyANh5g4EathHhB0cY4he_CTmdyLUm_TFuE",
            authDomain: "shapecoin.firebaseapp.com",
            projectId: "shapecoin",
            storageBucket: "shapecoin.firebasestorage.app",
            messagingSenderId: "365582210645",
            appId: "1:365582210645:web:8bf24f3809815340be66dc"
        };

        // 3. Inicia Firebase
        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const db = firebase.firestore();
        const statusDiv = document.getElementById('status');

        console.log("Sistema Pronto.");

        // 4. Verifica se jÃ¡ estÃ¡ logado
        auth.onAuthStateChanged((user) => {
            if (user) {
                statusDiv.innerText = "Logado como: " + user.email;
                statusDiv.style.color = "#00ff88";
                setTimeout(() => { window.location.href = "dashboard.html"; }, 1500);
            }
        });

        // 5. FunÃ§Ã£o de Login
        function fazerLogin() {
            const email = document.getElementById('email').value;
            const pass = document.getElementById('password').value;
            const btn = document.getElementById('btn');

            if(!email || !pass) {
                alert("Preencha e-mail e senha!");
                return;
            }

            statusDiv.innerText = "Conectando...";
            btn.disabled = true;
            btn.innerText = "AGUARDE...";
